{"version":3,"sources":["modules/client/components/Description/styles.module.css","modules/client/pages/Item/styles.module.css","modules/client/components/StatusIndicator/styles.module.css","modules/client/components/ItemRow/styles.module.css","modules/client/components/Button/styles.module.css","modules/client/components/ItemPicture/styles.module.css","modules/client/pages/Items/styles.module.css","modules/client/pages/Reservations/styles.module.css","modules/client/types.ts","modules/client/components/Header/shop.svg","modules/client/components/Header/index.tsx","modules/client/api.ts","modules/client/components/ItemPicture/index.tsx","modules/client/components/StatusIndicator/index.tsx","modules/client/components/Description/index.tsx","modules/client/components/ItemRow/index.tsx","modules/client/pages/Items/index.tsx","modules/client/components/Button/index.tsx","modules/client/pages/Item/index.tsx","modules/client/consts.ts","modules/client/pages/Reservations/index.tsx","index.tsx","modules/client/components/Header/styles.module.css"],"names":["module","exports","Status","Header","className","styles","wrapper","logo","logoBg","logoBg2","src","shop","width","menu","to","link","agent","superagent","request","urlOrPath","payload","options","agentMethod","method","toLowerCase","send","then","response","body","catch","error","Error","use","url","reservations","UNAVAILABLE","ItemPicture","itemId","size","style","height","process","StatusIndicator","status","AVAILABLE","available","unavailable","Description","item","showStatus","title","name","row","label","rentedBy","ItemRow","id","content","Items","useState","items","setItems","useEffect","map","Button","onClick","isPrimary","children","cn","setItem","params","useParams","history","useHistory","data","picture","actions","goBack","setReservations","Promise","resolve","reservation","ReactDOM","render","StrictMode","exact","path","Item","Reservations","document","getElementById"],"mappings":"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","file":"static/js/main.08b0fc0c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__3WD1L\",\"title\":\"styles_title__1WPec\",\"row\":\"styles_row__2h6hH\",\"label\":\"styles_label__3FaYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__Q-bVg\",\"data\":\"styles_data__2FedQ\",\"picture\":\"styles_picture__oiIoW\",\"actions\":\"styles_actions__2X8PI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"available\":\"styles_available__2Tp2T\",\"unavailable\":\"styles_unavailable__OoUC8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__14IG6\",\"content\":\"styles_content__8i8OO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__FVQMb\",\"isPrimary\":\"styles_isPrimary__2ZGYi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__dnxY3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2-agE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__E0k5f\"};","export enum Status {\n    AVAILABLE = 'AVAILABLE',\n    UNAVAILABLE = 'UNAVAILABLE',\n}\n\nexport interface User {\n    id: number;\n    name: string;\n}\n\nexport interface Item {\n    id: number;\n    name: string;\n    status: Status;\n    rentedBy?: User;\n}\n\nexport interface Reservation extends Item {\n    startDate: string;\n    endDate: string;\n}","export default __webpack_public_path__ + \"static/media/shop.505fce64.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport shop from './shop.svg';\n\nimport styles from './styles.module.css';\n\n\nconst Header = () => {\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.logo}>\n                <div className={styles.logoBg} />\n                <div className={styles.logoBg2} />\n                <img src={shop} width={30} />\n                Rent-o-mati!\n            </div>\n            <div className={styles.menu}>\n                <Link to=\"/items\" className={styles.link}>\n                    Available items\n                </Link>\n                <Link to=\"/reservations\" className={styles.link}>\n                    My reservations\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Header;\n","import * as superagent from 'superagent'\n\nimport { Item, Reservation, Status } from './types';\n\n\nconst agent = superagent.agent();\n\nagent.use((request) => {\n    request.url = `http://34.89.235.4/api/${request.url}`;\n});\n\ninterface RequestOptions {\n    method?: 'GET'|'POST'|'PUT'|'PATCH'|'DELETE';\n}\n\nexport function request<T = any> (urlOrPath: string, payload?: Object, options?: RequestOptions): Promise<T> {\n    const method = options?.method || (payload ? 'POST' : 'GET');\n    const agentMethod: any = method.toLowerCase();\n    // @ts-ignore\n    const promise = payload ? agent[agentMethod](urlOrPath).send(payload) : agent[agentMethod](urlOrPath);\n\n    return promise.then((response: Response) => {\n        return response?.body;\n    }).catch((error: string) => {\n        throw new Error(error);\n    });\n}\n\nexport function getItems (): Promise<Item[]> {\n    return request('items');\n}\n\nexport function getItem (itemId: number): Promise<Item> {\n    return request(`item/${itemId}`)\n}\n\nconst reservations = [\n    {\n        \"id\": 2,\n        \"name\": \"HTC Vive VR Googles - 2\",\n        \"status\": Status.UNAVAILABLE,\n        \"rentedBy\": {\n            \"id\": 1,\n            \"name\": \"bogzio\",\n        },\n        \"startDate\": \"2021-05-27T12:17:45.812085Z\",\n        \"endDate\": \"2021-05-27T12:17:45.812085Z\",\n    }\n];\n\nexport function getReservations (userId: number): Promise<Reservation[]> {\n    // return request(`reservations/userId/${userId}`);\n    return Promise.resolve(reservations);\n}","import React from 'react';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    itemId: number;\n    size?: number;\n}\n\nconst ItemPicture = ({itemId, size = 100}: Props) => {\n    return (\n        <div className={styles.wrapper} style={{width: size, height: size}}>\n            <img src={`${process.env.PUBLIC_URL}/item-${itemId}.jpg`} />\n        </div>\n    );\n}\n\nexport default ItemPicture;\n","import React from 'react';\n\nimport { Status } from '../../types';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    status: Status;\n}\n\nconst StatusIndicator = ({status}: Props) => {\n    if (status === Status.AVAILABLE) {\n        return (\n            <div className={styles.available}>\n                AVAILABLE\n            </div>\n        );\n    }\n\n    return (\n        <div className={styles.unavailable}>\n            UNAVAILABLE\n        </div>\n    );\n}\n\nexport default StatusIndicator;\n","import React from 'react';\n\nimport { Item, Reservation } from '../../types';\n\nimport StatusIndicator from '../StatusIndicator';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    item: Item | Reservation\n    showStatus?: boolean;\n}\n\nconst Description = ({item, showStatus}: Props) => {\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.title}>\n                {item.name}\n            </div>\n\n            <div className={styles.row}>\n                <div className={styles.label}>\n                    status:\n                </div>\n                <StatusIndicator status={item.status} />\n            </div>\n\n            {item.rentedBy && (\n                <div className={styles.row}>\n                    <div className={styles.label}>\n                        rented by:\n                    </div>\n                    {item.rentedBy?.name}\n                </div>\n            )}\n\n\n\n        </div>\n    );\n}\n\nexport default Description;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Item } from '../../types';\n\nimport ItemPicture from '../../components/ItemPicture';\nimport Description from '../../components/Description';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    item: Item;\n}\n\nconst ItemRow = ({item}: Props) => {\n    return (\n        <Link to={`/items/${item.id}`} className={styles.wrapper}>\n            <ItemPicture itemId={item.id} />\n            <div className={styles.content}>\n                <Description item={item} />\n            </div>\n        </Link>\n    );\n}\n\nexport default ItemRow;\n","import React, { useEffect, useState } from 'react';\n\nimport { Item } from '../../types';\nimport { getItems } from '../../api';\n\nimport ItemRow from '../../components/ItemRow';\n\nimport styles from './styles.module.css';\n\n\nconst Items = () => {\n\n    const [items, setItems] = useState<Item[]>([]);\n\n    useEffect(() => {\n        getItems().then(items => {\n            setItems(items);\n        });\n    }, []);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <h2>All items:</h2>\n            {items.map(item => (\n                <ItemRow item={item} key={item.id} />\n            ))}\n        </div>\n    );\n}\n\nexport default Items;\n","import React from 'react';\nimport cn from 'clsx';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    onClick?: Function;\n    isPrimary?: boolean;\n    children: React.ReactNode;\n}\n\nconst Button = ({onClick = () => {}, isPrimary, children}: Props) => {\n    return (\n        <div\n            className={cn(styles.wrapper, {\n                [styles.isPrimary]: isPrimary,\n            })}\n            onClick={() => onClick()}\n        >\n            {children}\n        </div>\n    );\n}\n\nexport default Button;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { Item, Status } from '../../types';\nimport { getItem } from '../../api';\nimport { CURRENT_USER_ID } from '../../consts';\n\nimport Button from '../../components/Button';\nimport ItemPicture from '../../components/ItemPicture';\nimport Description from '../../components/Description';\n\nimport styles from './styles.module.css';\n\n\nconst Items = () => {\n\n    const [item, setItem] = useState<Item>();\n    const params = useParams<any>();\n    const history = useHistory();\n\n    useEffect(() => {\n        getItem(params.itemId).then(item => {\n            setItem(item);\n        });\n    }, []);\n\n    if (!item) {\n        return null;\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.data}>\n                <div className={styles.picture}>\n                    <ItemPicture itemId={item.id} size={150} />\n                </div>\n                <Description item={item} />\n            </div>\n            <div className={styles.actions}>\n\n                <Button onClick={() => history.goBack()}>\n                    Cancel\n                </Button>\n\n                {item.status === Status.AVAILABLE && (\n                    <Button isPrimary={true}>\n                        Book\n                    </Button>\n                )}\n\n                {item.rentedBy?.id === CURRENT_USER_ID && (\n                    <Button isPrimary={true}>\n                        Mark as returned\n                    </Button>\n                )}\n\n            </div>\n        </div>\n    );\n}\n\nexport default Items;\n","export const CURRENT_USER_ID = 1;","import React, { useEffect, useState } from 'react';\n\nimport { Reservation } from '../../types';\nimport { getReservations } from '../../api';\nimport { CURRENT_USER_ID } from '../../consts';\n\nimport ItemRow from '../../components/ItemRow';\n\nimport styles from './styles.module.css';\n\n\nconst Items = () => {\n\n    const [reservations, setReservations] = useState<Reservation[]>([]);\n\n    useEffect(() => {\n        getReservations(CURRENT_USER_ID).then(reservations => {\n            setReservations(reservations);\n        });\n    }, []);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <h2>My items:</h2>\n            {reservations.map(reservation => (\n                <ItemRow item={reservation} key={reservation.id} />\n            ))}\n        </div>\n    );\n}\n\nexport default Items;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\n\nimport Header from 'modules/client/components/Header';\nimport Items from 'modules/client/pages/Items';\nimport Item from 'modules/client/pages/Item';\nimport Reservations from 'modules/client/pages/Reservations';\n\nimport './normalize.css';\nimport './global.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n        <Header />\n        <Switch>\n            <Route exact path=\"/\">\n                <Redirect to=\"/items\" />\n            </Route>\n            <Route path=\"/items/:itemId\">\n                <Item />\n            </Route>\n            <Route path=\"/items\">\n                <Items />\n            </Route>\n            <Route path=\"/reservations\">\n                <Reservations />\n            </Route>\n        </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2-jsp\",\"logo\":\"styles_logo__3QR2w\",\"logoBg\":\"styles_logoBg__1GusQ\",\"logoBg2\":\"styles_logoBg2__gEMSm\",\"menu\":\"styles_menu__2EFKb\",\"link\":\"styles_link__2-6Hr\"};"],"sourceRoot":""}
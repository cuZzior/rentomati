(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,s){e.exports={wrapper:"styles_wrapper__3WD1L",title:"styles_title__1WPec",row:"styles_row__2h6hH",label:"styles_label__3FaYm"}},13:function(e,t,s){e.exports={wrapper:"styles_wrapper__Q-bVg",data:"styles_data__2FedQ",picture:"styles_picture__oiIoW",actions:"styles_actions__2X8PI"}},21:function(e,t,s){e.exports={available:"styles_available__2Tp2T",unavailable:"styles_unavailable__OoUC8"}},22:function(e,t,s){e.exports={wrapper:"styles_wrapper__14IG6",content:"styles_content__8i8OO"}},23:function(e,t,s){e.exports={wrapper:"styles_wrapper__FVQMb",isPrimary:"styles_isPrimary__2ZGYi"}},30:function(e,t,s){e.exports={wrapper:"styles_wrapper__dnxY3"}},31:function(e,t,s){e.exports={wrapper:"styles_wrapper__2-agE"}},34:function(e,t,s){e.exports={wrapper:"styles_wrapper__E0k5f"}},59:function(e,t){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),c=s(27),a=s.n(c),r=s(7),l=s(2),o=s.p+"static/media/shop.505fce64.svg",d=s(8),j=s.n(d),u=s(0),b=function(){return Object(u.jsxs)("div",{className:j.a.wrapper,children:[Object(u.jsxs)("div",{className:j.a.logo,children:[Object(u.jsx)("div",{className:j.a.logoBg}),Object(u.jsx)("div",{className:j.a.logoBg2}),Object(u.jsx)("img",{src:o,width:30}),"Rent-o-mati!"]}),Object(u.jsxs)("div",{className:j.a.menu,children:[Object(u.jsx)(r.b,{to:"/items",className:j.a.link,children:"Available items"}),Object(u.jsx)(r.b,{to:"/reservations",className:j.a.link,children:"My reservations"})]})]})},p=s(11),m=s(29).agent();function v(e,t,s){var n=((null===s||void 0===s?void 0:s.method)||(t?"POST":"GET")).toLowerCase();return(t?m[n](e).send(t):m[n](e)).then((function(e){return null===e||void 0===e?void 0:e.body})).catch((function(e){throw new Error(e)}))}m.use((function(e){e.url="http://34.89.235.4/api/".concat(e.url)}));var h,O=s(30),_=s.n(O),x=function(e){var t=e.itemId,s=e.size,n=void 0===s?100:s;return Object(u.jsx)("div",{className:_.a.wrapper,style:{width:n,height:n},children:Object(u.jsx)("img",{src:"".concat("","/item-").concat(t,".jpg")})})};!function(e){e.AVAILABLE="AVAILABLE",e.UNAVAILABLE="UNAVAILABLE"}(h||(h={}));var f=s(21),w=s.n(f),y=function(e){return e.status===h.AVAILABLE?Object(u.jsx)("div",{className:w.a.available,children:"AVAILABLE"}):Object(u.jsx)("div",{className:w.a.unavailable,children:"UNAVAILABLE"})},N=s(10),g=s.n(N),A=function(e){var t,s=e.item,n=e.showStatus,i=void 0===n||n;return Object(u.jsxs)("div",{className:g.a.wrapper,children:[Object(u.jsx)("div",{className:g.a.title,children:s.name}),i&&Object(u.jsxs)("div",{className:g.a.row,children:[Object(u.jsx)("div",{className:g.a.label,children:"status:"}),Object(u.jsx)(y,{status:s.status})]}),s.rentedBy&&Object(u.jsxs)("div",{className:g.a.row,children:[Object(u.jsx)("div",{className:g.a.label,children:"rented by:"}),null===(t=s.rentedBy)||void 0===t?void 0:t.name]})]})},I=s(22),B=s.n(I),E=function(e){var t=e.item,s=e.showStatus;return Object(u.jsxs)(r.b,{to:"/items/".concat(t.id),className:B.a.wrapper,children:[Object(u.jsx)(x,{itemId:t.id}),Object(u.jsx)("div",{className:B.a.content,children:Object(u.jsx)(A,{item:t,showStatus:s})})]})},L=s(31),k=s.n(L),S=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),s=t[0],i=t[1];return Object(n.useEffect)((function(){v("items").then((function(e){i(e)}))}),[]),Object(u.jsxs)("div",{className:k.a.wrapper,children:[Object(u.jsx)("h2",{children:"All items:"}),s.map((function(e){return Object(u.jsx)(E,{item:e},e.id)}))]})},P=s(32),V=s(33),C=s(23),M=s.n(C),T=function(e){var t=e.onClick,s=void 0===t?function(){}:t,n=e.isPrimary,i=e.children;return Object(u.jsx)("div",{className:Object(V.a)(M.a.wrapper,Object(P.a)({},M.a.isPrimary,n)),onClick:function(){return s()},children:i})},G=s(13),Q=s.n(G),F=function(){var e,t=Object(n.useState)(),s=Object(p.a)(t,2),i=s[0],c=s[1],a=Object(l.h)(),r=Object(l.g)(),o=1===(null===i||void 0===i||null===(e=i.rentedBy)||void 0===e?void 0:e.id);function d(){var e;(e=a.itemId,v("item/".concat(e))).then((function(e){c(e)}))}function j(){var e,t;(null===i||void 0===i?void 0:i.id)&&(e=1,t=null===i||void 0===i?void 0:i.id,v("reservations/reserve",{userId:e,itemId:t},{method:"POST"})).then((function(){d()}))}function b(){var e;(null===i||void 0===i?void 0:i.id)&&(e=null===i||void 0===i?void 0:i.id,v("reservations/cancel",{itemId:e},{method:"POST"})).then((function(){d()}))}return Object(n.useEffect)((function(){d()}),[]),i?Object(u.jsxs)("div",{className:Q.a.wrapper,children:[Object(u.jsxs)("div",{className:Q.a.data,children:[Object(u.jsx)("div",{className:Q.a.picture,children:Object(u.jsx)(x,{itemId:i.id,size:150})}),Object(u.jsx)(A,{item:i,showStatus:!o})]}),Object(u.jsxs)("div",{className:Q.a.actions,children:[Object(u.jsx)(T,{onClick:function(){return r.goBack()},children:"Go back"}),i.status===h.AVAILABLE&&Object(u.jsx)(T,{isPrimary:!0,onClick:function(){return j()},children:"Book"}),o&&Object(u.jsx)(T,{isPrimary:!0,onClick:function(){return b()},children:"Mark as returned"})]})]}):null},U=s(34),W=s.n(U),Y=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),s=t[0],i=t[1];return Object(n.useEffect)((function(){var e;(e=1,v("reservations/userId/".concat(e))).then((function(e){i(e)}))}),[]),Object(u.jsxs)("div",{className:W.a.wrapper,children:[Object(u.jsx)("h2",{children:"My items:"}),s.map((function(e){return Object(u.jsx)(E,{item:e,showStatus:!1},e.id)}))]})};s(65),s(66);a.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:"/",children:Object(u.jsx)(l.a,{to:"/items"})}),Object(u.jsx)(l.b,{path:"/items/:itemId",children:Object(u.jsx)(F,{})}),Object(u.jsx)(l.b,{path:"/items",children:Object(u.jsx)(S,{})}),Object(u.jsx)(l.b,{path:"/reservations",children:Object(u.jsx)(Y,{})})]})]})}),document.getElementById("root"))},8:function(e,t,s){e.exports={wrapper:"styles_wrapper__2-jsp",logo:"styles_logo__3QR2w",logoBg:"styles_logoBg__1GusQ",logoBg2:"styles_logoBg2__gEMSm",menu:"styles_menu__2EFKb",link:"styles_link__2-6Hr"}}},[[67,1,2]]]);
//# sourceMappingURL=main.e029b2d5.chunk.js.map
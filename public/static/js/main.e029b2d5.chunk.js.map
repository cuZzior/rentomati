{"version":3,"sources":["modules/client/components/Description/styles.module.css","modules/client/pages/Item/styles.module.css","modules/client/components/StatusIndicator/styles.module.css","modules/client/components/ItemRow/styles.module.css","modules/client/components/Button/styles.module.css","modules/client/components/ItemPicture/styles.module.css","modules/client/pages/Items/styles.module.css","modules/client/pages/Reservations/styles.module.css","modules/client/components/Header/shop.svg","modules/client/components/Header/index.tsx","modules/client/api.ts","modules/client/types.ts","modules/client/components/ItemPicture/index.tsx","modules/client/components/StatusIndicator/index.tsx","modules/client/components/Description/index.tsx","modules/client/components/ItemRow/index.tsx","modules/client/pages/Items/index.tsx","modules/client/components/Button/index.tsx","modules/client/pages/Item/index.tsx","modules/client/consts.ts","modules/client/pages/Reservations/index.tsx","index.tsx","modules/client/components/Header/styles.module.css"],"names":["module","exports","Header","className","styles","wrapper","logo","logoBg","logoBg2","src","shop","width","menu","to","link","agent","superagent","request","urlOrPath","payload","options","agentMethod","method","toLowerCase","send","then","response","body","catch","error","Error","use","url","Status","ItemPicture","itemId","size","style","height","process","StatusIndicator","status","AVAILABLE","available","unavailable","Description","item","showStatus","title","name","row","label","rentedBy","ItemRow","id","content","Items","useState","items","setItems","useEffect","map","Button","onClick","isPrimary","children","cn","setItem","params","useParams","history","useHistory","isOwnedItem","loadItem","onReserve","userId","onCancel","data","picture","actions","goBack","reservations","setReservations","reservation","ReactDOM","render","StrictMode","exact","path","Item","Reservations","document","getElementById"],"mappings":"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","file":"static/js/main.e029b2d5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__3WD1L\",\"title\":\"styles_title__1WPec\",\"row\":\"styles_row__2h6hH\",\"label\":\"styles_label__3FaYm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__Q-bVg\",\"data\":\"styles_data__2FedQ\",\"picture\":\"styles_picture__oiIoW\",\"actions\":\"styles_actions__2X8PI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"available\":\"styles_available__2Tp2T\",\"unavailable\":\"styles_unavailable__OoUC8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__14IG6\",\"content\":\"styles_content__8i8OO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__FVQMb\",\"isPrimary\":\"styles_isPrimary__2ZGYi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__dnxY3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2-agE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__E0k5f\"};","export default __webpack_public_path__ + \"static/media/shop.505fce64.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport shop from './shop.svg';\n\nimport styles from './styles.module.css';\n\n\nconst Header = () => {\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.logo}>\n                <div className={styles.logoBg} />\n                <div className={styles.logoBg2} />\n                <img src={shop} width={30} />\n                Rent-o-mati!\n            </div>\n            <div className={styles.menu}>\n                <Link to=\"/items\" className={styles.link}>\n                    Available items\n                </Link>\n                <Link to=\"/reservations\" className={styles.link}>\n                    My reservations\n                </Link>\n            </div>\n        </div>\n    );\n}\n\nexport default Header;\n","import * as superagent from 'superagent'\n\nimport { Item, Reservation } from './types';\n\n\nconst agent = superagent.agent();\n\nagent.use((request) => {\n    request.url = `http://34.89.235.4/api/${request.url}`;\n});\n\ninterface RequestOptions {\n    method?: 'GET'|'POST'|'PUT'|'PATCH'|'DELETE';\n}\n\nexport function request<T = any> (urlOrPath: string, payload?: Object, options?: RequestOptions): Promise<T> {\n    const method = options?.method || (payload ? 'POST' : 'GET');\n    const agentMethod: any = method.toLowerCase();\n    // @ts-ignore\n    const promise = payload ? agent[agentMethod](urlOrPath).send(payload) : agent[agentMethod](urlOrPath);\n\n    return promise.then((response: Response) => {\n        return response?.body;\n    }).catch((error: string) => {\n        throw new Error(error);\n    });\n}\n\nexport function getItems (): Promise<Item[]> {\n    return request('items');\n}\n\nexport function getItem (itemId: number): Promise<Item> {\n    return request(`item/${itemId}`)\n}\n\nexport function getReservations (userId: number): Promise<Reservation[]> {\n    return request(`reservations/userId/${userId}`);\n}\n\nexport function reserve (userId: number, itemId: number) {\n    return request('reservations/reserve', {userId, itemId}, {method: 'POST'});\n}\n\nexport function cancelReservation (itemId: number): Promise<Reservation[]> {\n    return request('reservations/cancel', {itemId}, {method: 'POST'});\n}","export enum Status {\n    AVAILABLE = 'AVAILABLE',\n    UNAVAILABLE = 'UNAVAILABLE',\n}\n\nexport interface User {\n    id: number;\n    name: string;\n}\n\nexport interface Item {\n    id: number;\n    name: string;\n    status: Status;\n    rentedBy?: User;\n}\n\nexport interface Reservation extends Item {\n    startDate: string;\n    endDate: string;\n}","import React from 'react';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    itemId: number;\n    size?: number;\n}\n\nconst ItemPicture = ({itemId, size = 100}: Props) => {\n    return (\n        <div className={styles.wrapper} style={{width: size, height: size}}>\n            <img src={`${process.env.PUBLIC_URL}/item-${itemId}.jpg`} />\n        </div>\n    );\n}\n\nexport default ItemPicture;\n","import React from 'react';\n\nimport { Status } from '../../types';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    status: Status;\n}\n\nconst StatusIndicator = ({status}: Props) => {\n    if (status === Status.AVAILABLE) {\n        return (\n            <div className={styles.available}>\n                AVAILABLE\n            </div>\n        );\n    }\n\n    return (\n        <div className={styles.unavailable}>\n            UNAVAILABLE\n        </div>\n    );\n}\n\nexport default StatusIndicator;\n","import React from 'react';\n\nimport { Item, Reservation } from '../../types';\n\nimport StatusIndicator from '../StatusIndicator';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    item: Item | Reservation\n    showStatus?: boolean;\n}\n\nconst Description = ({item, showStatus = true}: Props) => {\n    return (\n        <div className={styles.wrapper}>\n\n            <div className={styles.title}>\n                {item.name}\n            </div>\n\n            {showStatus && (\n                <div className={styles.row}>\n                    <div className={styles.label}>\n                        status:\n                    </div>\n                    <StatusIndicator status={item.status} />\n                </div>\n            )}\n\n            {item.rentedBy && (\n                <div className={styles.row}>\n                    <div className={styles.label}>\n                        rented by:\n                    </div>\n                    {item.rentedBy?.name}\n                </div>\n            )}\n\n\n\n        </div>\n    );\n}\n\nexport default Description;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { Item } from '../../types';\n\nimport ItemPicture from '../../components/ItemPicture';\nimport Description from '../../components/Description';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    item: Item;\n    showStatus?: boolean;\n}\n\nconst ItemRow = ({item, showStatus}: Props) => {\n    return (\n        <Link to={`/items/${item.id}`} className={styles.wrapper}>\n            <ItemPicture itemId={item.id} />\n            <div className={styles.content}>\n                <Description item={item} showStatus={showStatus} />\n            </div>\n        </Link>\n    );\n}\n\nexport default ItemRow;\n","import React, { useEffect, useState } from 'react';\n\nimport { Item } from '../../types';\nimport { getItems } from '../../api';\n\nimport ItemRow from '../../components/ItemRow';\n\nimport styles from './styles.module.css';\n\n\nconst Items = () => {\n\n    const [items, setItems] = useState<Item[]>([]);\n\n    useEffect(() => {\n        getItems().then(items => {\n            setItems(items);\n        });\n    }, []);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <h2>All items:</h2>\n            {items.map(item => (\n                <ItemRow item={item} key={item.id} />\n            ))}\n        </div>\n    );\n}\n\nexport default Items;\n","import React from 'react';\nimport cn from 'clsx';\n\nimport styles from './styles.module.css';\n\n\ninterface Props {\n    onClick?: Function;\n    isPrimary?: boolean;\n    children: React.ReactNode;\n}\n\nconst Button = ({onClick = () => {}, isPrimary, children}: Props) => {\n    return (\n        <div\n            className={cn(styles.wrapper, {\n                [styles.isPrimary]: isPrimary,\n            })}\n            onClick={() => onClick()}\n        >\n            {children}\n        </div>\n    );\n}\n\nexport default Button;\n","import React, { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { Item, Status } from '../../types';\nimport { getItem, reserve, cancelReservation } from '../../api';\nimport { CURRENT_USER_ID } from '../../consts';\n\nimport Button from '../../components/Button';\nimport ItemPicture from '../../components/ItemPicture';\nimport Description from '../../components/Description';\n\nimport styles from './styles.module.css';\n\n\nconst Items = () => {\n\n    const [item, setItem] = useState<Item>();\n    const params = useParams<any>();\n    const history = useHistory();\n\n    const isOwnedItem = item?.rentedBy?.id === CURRENT_USER_ID;\n\n    useEffect(() => {\n        loadItem();\n    }, []);\n\n    function loadItem () {\n        getItem(params.itemId).then(item => {\n            setItem(item);\n        });\n    }\n\n    function onReserve () {\n        if (!item?.id) {\n            return;\n        }\n\n        reserve(CURRENT_USER_ID, item?.id).then(() => {\n            loadItem();\n        })\n    }\n\n    function onCancel () {\n        if (!item?.id) {\n            return;\n        }\n\n        cancelReservation(item?.id).then(() => {\n            loadItem();\n        })\n    }\n\n    if (!item) {\n        return null;\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <div className={styles.data}>\n                <div className={styles.picture}>\n                    <ItemPicture itemId={item.id} size={150} />\n                </div>\n                <Description item={item} showStatus={!isOwnedItem} />\n            </div>\n            <div className={styles.actions}>\n\n                <Button onClick={() => history.goBack()}>\n                    Go back\n                </Button>\n\n                {item.status === Status.AVAILABLE && (\n                    <Button isPrimary={true} onClick={() => onReserve()}>\n                        Book\n                    </Button>\n                )}\n\n                {isOwnedItem && (\n                    <Button isPrimary={true} onClick={() => onCancel()}>\n                        Mark as returned\n                    </Button>\n                )}\n\n            </div>\n        </div>\n    );\n}\n\nexport default Items;\n","export const CURRENT_USER_ID = 1;","import React, { useEffect, useState } from 'react';\n\nimport { Reservation } from '../../types';\nimport { getReservations } from '../../api';\nimport { CURRENT_USER_ID } from '../../consts';\n\nimport ItemRow from '../../components/ItemRow';\n\nimport styles from './styles.module.css';\n\n\nconst Items = () => {\n\n    const [reservations, setReservations] = useState<Reservation[]>([]);\n\n    useEffect(() => {\n        getReservations(CURRENT_USER_ID).then(reservations => {\n            setReservations(reservations);\n        });\n    }, []);\n\n\n    return (\n        <div className={styles.wrapper}>\n            <h2>My items:</h2>\n            {reservations.map(reservation => (\n                <ItemRow\n                    item={reservation}\n                    showStatus={false}\n                    key={reservation.id}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport default Items;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\n\nimport Header from 'modules/client/components/Header';\nimport Items from 'modules/client/pages/Items';\nimport Item from 'modules/client/pages/Item';\nimport Reservations from 'modules/client/pages/Reservations';\n\nimport './normalize.css';\nimport './global.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n        <Header />\n        <Switch>\n            <Route exact path=\"/\">\n                <Redirect to=\"/items\" />\n            </Route>\n            <Route path=\"/items/:itemId\">\n                <Item />\n            </Route>\n            <Route path=\"/items\">\n                <Items />\n            </Route>\n            <Route path=\"/reservations\">\n                <Reservations />\n            </Route>\n        </Switch>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2-jsp\",\"logo\":\"styles_logo__3QR2w\",\"logoBg\":\"styles_logoBg__1GusQ\",\"logoBg2\":\"styles_logoBg2__gEMSm\",\"menu\":\"styles_menu__2EFKb\",\"link\":\"styles_link__2-6Hr\"};"],"sourceRoot":""}